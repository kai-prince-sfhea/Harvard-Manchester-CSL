<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.32">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Harvard_Manchester_CSL</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-37eea08aefeeee20ff55810ff984fec1.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-991b1886d3c685c7aa2b62b80640c7af.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body class="fullcontent quarto-light">

<div id="quarto-search-results"></div>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Harvard_Manchester_CSL</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="citation-syntax" class="level2">
<h2 class="anchored" data-anchor-id="citation-syntax">Citation Syntax</h2>
<section id="authors" class="level3">
<h3 class="anchored" data-anchor-id="authors">Authors</h3>
<section id="no-author" class="level4">
<h4 class="anchored" data-anchor-id="no-author">No Author</h4>
<p>Manchester Harvard Guidance:</p>
<ul>
<li>If you cannot identify the author of a document use the title of the work italicised.</li>
</ul>
<p>Input:</p>
<ul>
<li><code>@na2025 or [@na2025]</code></li>
</ul>
<p>Output:</p>
<ul>
<li><span class="citation" data-cites="na2025">(2025)</span> or <span class="citation" data-cites="na2025">(2025)</span></li>
</ul>
<p>Ideal:</p>
<ul>
<li><em>Some Book</em> (2025) or (<em>Some Book</em>, 2025)</li>
</ul>
</section>
<section id="one-author" class="level4">
<h4 class="anchored" data-anchor-id="one-author">One Author</h4>
<p>Manchester Harvard Guidance:</p>
<ul>
<li>the surname of the author and the year of publication are stated as below.</li>
</ul>
<p>Input:</p>
<ul>
<li><code>@bergelson_1996 or [@bergelson_1996]</code></li>
</ul>
<p>Output:</p>
<ul>
<li><span class="citation" data-cites="bergelson_1996">Bergelson (1996)</span> or <span class="citation" data-cites="bergelson_1996">(Bergelson, 1996)</span></li>
</ul>
<p>Ideal:</p>
<ul>
<li>Bergelson (1996) or (Bergelson, 1996)</li>
</ul>
</section>
<section id="two-authors" class="level4">
<h4 class="anchored" data-anchor-id="two-authors">Two Authors</h4>
<p>Manchester Harvard Guidance:</p>
<ul>
<li>the surnames of the authors, separated by ‘and’, and the year of publication are stated as below.</li>
</ul>
<p>Input:</p>
<ul>
<li><code>@Bekka2000GroupActionDynamics or [@Bekka2000GroupActionDynamics]</code></li>
</ul>
<p>Output:</p>
<ul>
<li><span class="citation" data-cites="Bekka2000GroupActionDynamics">Bekka and Mayer (2000)</span> or <span class="citation" data-cites="Bekka2000GroupActionDynamics">(Bekka and Mayer, 2000)</span></li>
</ul>
<p>Ideal:</p>
<ul>
<li>Bekka and Mayer (2000) or (Bekka and Mayer, 2000)</li>
</ul>
</section>
<section id="three-authors" class="level4">
<h4 class="anchored" data-anchor-id="three-authors">Three Authors</h4>
<p>Manchester Harvard Guidance:</p>
<ul>
<li>first author to penultimate author separated by commas. Penultimate author and last author separated by the word ‘and’.</li>
</ul>
<p>Input:</p>
<ul>
<li><code>@Moreira_2019 or [@Moreira_2019]</code></li>
</ul>
<p>Output:</p>
<ul>
<li><span class="citation" data-cites="Moreira_2019">Moreira, F. Richter and Robertson (2019)</span> or <span class="citation" data-cites="Moreira_2019">(Moreira, F. Richter and Robertson, 2019)</span></li>
</ul>
<p>Ideal:</p>
<ul>
<li>Moreira, Richter and Robertson (2019) or (Moreira, Richter and Robertson, 2019)</li>
</ul>
</section>
<section id="four-or-more-authors" class="level4">
<h4 class="anchored" data-anchor-id="four-or-more-authors">Four or more Authors</h4>
<p>Manchester Harvard Guidance:</p>
<ul>
<li>the surname of the first author, followed by ‘et al.’, and the year of publication are stated as below.</li>
</ul>
<p>Input:</p>
<ul>
<li><code>@kra2023problems or [@kra2023problems]</code></li>
</ul>
<p>Output:</p>
<ul>
<li><span class="citation" data-cites="kra2023problems">Kra et al. (2023)</span> or <span class="citation" data-cites="kra2023problems">(Kra et al., 2023)</span></li>
</ul>
<p>Ideal:</p>
<ul>
<li>Kra et al.&nbsp;(2023) or (Kra et al., 2023)</li>
</ul>
</section>
<section id="corporate-author" class="level4">
<h4 class="anchored" data-anchor-id="corporate-author">Corporate Author</h4>
<p>Manchester Harvard Guidance:</p>
<ul>
<li>Spell out the full title of the corporation or organisation or use an acronym or Initialism if it is recognised as this.</li>
</ul>
<p>Input:</p>
<ul>
<li><code>@bbc2025 or [@bbc2025]</code></li>
</ul>
<p>Output:</p>
<ul>
<li><span class="citation" data-cites="bbc2025">BBC (2025)</span> or <span class="citation" data-cites="bbc2025">(BBC, 2025)</span></li>
</ul>
<p>Ideal:</p>
<ul>
<li>BBC (2025) or (BBC, 2025)</li>
</ul>
</section>
<section id="no-date" class="level4">
<h4 class="anchored" data-anchor-id="no-date">No Date</h4>
<p>Manchester Harvard Guidance:</p>
<ul>
<li>The phrase “no date” should be used if you cannot identify a date of publication.</li>
</ul>
<p>Input:</p>
<ul>
<li><code>@booknd or [@booknd]</code></li>
</ul>
<p>Output:</p>
<ul>
<li><span class="citation" data-cites="booknd">Smith (no date)</span> or <span class="citation" data-cites="booknd">(Smith, no date)</span></li>
</ul>
<p>Ideal:</p>
<ul>
<li>Smith (no date) or (Smith, no date)</li>
</ul>
</section>
<section id="multiple-works-by-the-same-author" class="level4">
<h4 class="anchored" data-anchor-id="multiple-works-by-the-same-author">Multiple Works by the same Author</h4>
<p>Manchester Harvard Guidance:</p>
<ul>
<li>If there are several works by one author (published in the same year) included in your Reference list entry, they should be differentiated by adding a lower case letter after the date. When referring to two or more sources by the same author in different years, you don’t need to repeat the author’s surname in the citation. Include the surname and the oldest year first, then separate the rest with by semicolons (;) in chronological order starting with the oldest first</li>
</ul>
<p>Input:</p>
<ul>
<li><code>@kra2022infinite did blah and then worked on blah [@kra2022proof; @kra2023problems].</code></li>
</ul>
<p>Output:</p>
<ul>
<li><span class="citation" data-cites="kra2022infinite">Kra et al. (2022a)</span> did blah and then worked on blah <span class="citation" data-cites="kra2022proof kra2023problems">(Kra et al., 2022b, 2023)</span>.</li>
</ul>
<p>Ideal:</p>
<ul>
<li>Kra et al.&nbsp;(2022a) did blah and then worked on blah (Kra et al., 2022b; 2023).</li>
</ul>
<p>Note:</p>
<ul>
<li>Sadly, CSL can only do commas between years for the same author. Fortunately, this is only a minor shortcoming.</li>
</ul>
</section>
</section>
<section id="direct-citations" class="level3">
<h3 class="anchored" data-anchor-id="direct-citations">Direct Citations</h3>
<p>Manchester Harvard Guidance:</p>
<ul>
<li>If the author’s name forms a natural part of your sentence, then you just need to note the relevant year (within parentheses) after the author(s) name.</li>
</ul>
<section id="standard-example" class="level4">
<h4 class="anchored" data-anchor-id="standard-example">Standard Example</h4>
<p>Input:</p>
<ul>
<li><code>@bergelson_1996 says blah.</code></li>
</ul>
<p>Output:</p>
<ul>
<li><span class="citation" data-cites="bergelson_1996">Bergelson (1996)</span> says blah.</li>
</ul>
<p>Ideal:</p>
<ul>
<li>Bergelson (1996) says blah.</li>
</ul>
</section>
<section id="standard-example-with-locator" class="level4">
<h4 class="anchored" data-anchor-id="standard-example-with-locator">Standard Example with Locator</h4>
<p>Input:</p>
<ul>
<li><code>@bergelson_1996 [pp. 2] says blah.</code></li>
</ul>
<p>Output:</p>
<ul>
<li><span class="citation" data-cites="bergelson_1996">Bergelson (1996, p. 2)</span> says blah.</li>
</ul>
<p>Ideal:</p>
<ul>
<li>Bergelson (1996, p.&nbsp;2) says blah.</li>
</ul>
</section>
<section id="date-only" class="level4">
<h4 class="anchored" data-anchor-id="date-only">Date Only</h4>
<p>Input:</p>
<ul>
<li><code>Bergelson says blah [-@bergelson_1996].</code></li>
</ul>
<p>Output:</p>
<ul>
<li>Bergelson says blah <span class="citation" data-cites="bergelson_1996">(1996)</span>.</li>
</ul>
<p>Ideal:</p>
<ul>
<li>Bergelson says blah (1996).</li>
</ul>
</section>
<section id="no-parentheses" class="level4">
<h4 class="anchored" data-anchor-id="no-parentheses">No Parentheses</h4>
<p>Input:</p>
<ul>
<li><code>Bergelson -@bergelson_1996 says Blah.</code></li>
</ul>
<p>Output:</p>
<ul>
<li>Bergelson <span class="citation" data-cites="bergelson_1996">(1996)</span> says Blah.</li>
</ul>
<p>Ideal:</p>
<ul>
<li>Bergelson 1996 says blah.</li>
</ul>
</section>
</section>
<section id="indirect-citations" class="level3">
<h3 class="anchored" data-anchor-id="indirect-citations">Indirect Citations</h3>
<p>Manchester Harvard Guidance:</p>
<ul>
<li>If you do not mention the author’s name within your text, then place both the name and year in parentheses, at the end of the sentence.</li>
</ul>
<section id="standard-example-1" class="level4">
<h4 class="anchored" data-anchor-id="standard-example-1">Standard Example</h4>
<p>Input:</p>
<ul>
<li><code>Blah Blah [@bergelson_1996]. Blah Blah [@kra2023problems]</code></li>
</ul>
<p>Output:</p>
<ul>
<li>Blah Blah <span class="citation" data-cites="bergelson_1996">(Bergelson, 1996)</span>. Blah Blah <span class="citation" data-cites="kra2023problems">(Kra et al., 2023)</span></li>
</ul>
<p>Ideal:</p>
<ul>
<li>Blah Blah (Bergelson, 1996). Blah Blah (Kra et al., 2023)</li>
</ul>
</section>
<section id="standard-example-with-locator-1" class="level4">
<h4 class="anchored" data-anchor-id="standard-example-with-locator-1">Standard Example with Locator</h4>
<p>Input:</p>
<ul>
<li><code>Blah Blah [@bergelson_1996, pp. 2]. Blah Blah [@kra2023problems, Section 1]</code></li>
</ul>
<p>Output:</p>
<ul>
<li>Blah Blah <span class="citation" data-cites="bergelson_1996">(Bergelson, 1996, p. 2)</span>. Blah Blah <span class="citation" data-cites="kra2023problems">(Kra et al., 2023, sec. 1)</span></li>
</ul>
<p>Ideal:</p>
<ul>
<li>Blah Blah (Bergelson, 1996, p.&nbsp;2). Blah Blah (Kra et al., 2023, Section 1)</li>
</ul>
</section>
<section id="authors-supporting-the-same-argument" class="level4">
<h4 class="anchored" data-anchor-id="authors-supporting-the-same-argument">Authors supporting the same argument</h4>
<p>Manchester Harvard Guidance:</p>
<ul>
<li>Cite both names and separate with a semi-colon. List citations in chronological order (earliest date first) of year before surname, if the the citations are in the same year, then order in date then alphabetical order.</li>
</ul>
<p>Input:</p>
<ul>
<li><code>Blah Blah [@bergelson_1996; @kra2023problems]</code></li>
</ul>
<p>Output:</p>
<ul>
<li>Blah Blah <span class="citation" data-cites="bergelson_1996 kra2023problems">(Bergelson, 1996, Kra et al., 2023)</span></li>
</ul>
<p>Ideal:</p>
<ul>
<li>Blah Blah (Bergelson, 1996; Kra et al., 2023)</li>
</ul>
</section>
<section id="authors-supporting-the-same-argument-with-prefixes-locators-and-suffixes" class="level4">
<h4 class="anchored" data-anchor-id="authors-supporting-the-same-argument-with-prefixes-locators-and-suffixes">Authors supporting the same argument with Prefixes, Locators and Suffixes</h4>
<p>Input:</p>
<ul>
<li><code>Blah Blah [see @bergelson_1996, pp. 2; and @kra2023problems, Theorem 2.2]</code></li>
</ul>
<p>Output:</p>
<ul>
<li>Blah Blah <span class="citation" data-cites="bergelson_1996 kra2023problems">(see Bergelson, 1996, p. 2, and Kra et al., 2023, Theorem 2.2)</span></li>
</ul>
<p>Ideal:</p>
<ul>
<li>Blah Blah (see Bergelson, 1996, p.&nbsp;2; and Kra et al., 2023, Theorem 2.2)</li>
</ul>
</section>
<section id="authors-with-the-same-surname" class="level4">
<h4 class="anchored" data-anchor-id="authors-with-the-same-surname">Authors with the same surname</h4>
<p>Manchester Harvard Guidance:</p>
<ul>
<li>If two or more authors have the same surname then you need to provide more information to identify the source from which a quotation is taken. You should provide both author’s first initials (or even the authors’ full name if different authors share initials) in your citation.</li>
</ul>
<p>Input:</p>
<ul>
<li><code>Blah Blah [@prince2024; @prince2022; @prince2026]</code></li>
</ul>
<p>Output:</p>
<ul>
<li>Blah Blah <span class="citation" data-cites="prince2024 prince2022 prince2026">(Kai Prince, 2022, Kira Prince, 2026, L. Prince, 2024)</span></li>
</ul>
<p>Ideal:</p>
<ul>
<li>Blah Blah (Kai Prince, 2022; Kira Prince, 2026; L. Prince, 2024)</li>
</ul>
</section>
<section id="citing-sources-from-another-source" class="level4">
<h4 class="anchored" data-anchor-id="citing-sources-from-another-source">Citing sources from another source</h4>
<p>Manchester Harvard Guidance:</p>
<ul>
<li>When you wish to refer to a source that is cited or quoted in another authors work then you need to acknowledge this. This is known as indirect or secondary referencing. Use the term ‘cited in’ or ‘quoted in’ within your work.</li>
</ul>
<p>Input:</p>
<ul>
<li><code>Blah Blah [Moreira, Richter and Robertson, 2019 cited in @kra2023problems]</code></li>
</ul>
<p>Output:</p>
<ul>
<li>Blah Blah <span class="citation" data-cites="kra2023problems">(Moreira, Richter and Robertson, 2019 cited in Kra et al., 2023)</span></li>
</ul>
<p>Ideal:</p>
<ul>
<li>Blah Blah (Moreira, Richter and Robertson, 2019 cited in Kra et al., 2023)</li>
</ul>



</section>
</section>
</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" role="doc-bibliography" id="quarto-bibliography"><h2 class="anchored quarto-appendix-heading">References</h2><div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" role="list">
<div id="ref-na2025" class="csl-entry" role="listitem">
(2025). '<em>Some book</em>',.
</div>
<div id="ref-bergelson_1996" class="csl-entry" role="listitem">
Bergelson, V. (1996). 'Ergodic ramsey theory - an update', in Pollicott, M. and Schmidt, K. <em>Ergodic theory and zd actions</em>,: <em>London mathematical society lecture note series</em>. Cambridge University Press. pp. 1–62. <a href="https://doi.org/10.1017/CBO9780511662812.002">https://doi.org/10.1017/CBO9780511662812.002.</a>
</div>
<div id="ref-Bekka2000GroupActionDynamics" class="csl-entry" role="listitem">
Bekka, M. B. and Mayer, M. (2000). <em>Ergodic theory and topological dynamics of group actions on homogeneous spaces</em>. Cambridge University Press. <a href="https://doi.org/10.1017/cbo9780511758898">https://doi.org/10.1017/cbo9780511758898.</a>
</div>
<div id="ref-Moreira_2019" class="csl-entry" role="listitem">
Moreira, J., Richter, F. and Robertson, D. (2019). 'A proof of a sumset conjecture of erdős', <em><em>Annals of Mathematics</em>,</em> 189 (2), <a href="https://doi.org/10.4007/annals.2019.189.2.4">https://doi.org/10.4007/annals.2019.189.2.4.</a>
</div>
<div id="ref-kra2023problems" class="csl-entry" role="listitem">
Kra, B., et al. (2023). '<em>Problems on infinite sumset configurations in the integers and beyond</em>', Available at: <a href="https://arxiv.org/abs/2311.06197">https://arxiv.org/abs/2311.06197</a>.
</div>
<div id="ref-bbc2025" class="csl-entry" role="listitem">
BBC (2025). '<em>Some BBC article</em>',.
</div>
<div id="ref-booknd" class="csl-entry" role="listitem">
Smith, J. '<em>Some unpublished book</em>',.
</div>
<div id="ref-kra2022infinite" class="csl-entry" role="listitem">
Kra, B., et al. (2022a). '<em>Infinite sumsets in sets with positive density</em>', Available at: <a href="https://arxiv.org/abs/2206.01786">https://arxiv.org/abs/2206.01786</a>.
</div>
<div id="ref-kra2022proof" class="csl-entry" role="listitem">
Kra, B., et al. (2022b). '<em>A proof of erdős’s <span class="math inline">\(B+B+t\)</span> conjecture</em>', Available at: <a href="https://arxiv.org/abs/2206.12377">https://arxiv.org/abs/2206.12377</a>.
</div>
<div id="ref-prince2024" class="csl-entry" role="listitem">
Prince, L. (2024). '<em>Some psychology book</em>',.
</div>
<div id="ref-prince2022" class="csl-entry" role="listitem">
Prince, Kai (2022). '<em>Some mathematics book</em>',.
</div>
<div id="ref-prince2026" class="csl-entry" role="listitem">
Prince, Kira (2026). '<em>Some primary education book</em>',.
</div>
</div></section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>